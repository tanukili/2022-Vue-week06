import{_ as d,R as p,r as i,o as h,c as _,a,b as o,w as n,d as t,j as m,F as f}from"./index-ca20bf0e.js";const{VITE_APP_URL:k}={VITE_APP_URL:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"vuejslive2022",BASE_URL:"/2022-Vue-week06/",MODE:"production",DEV:!1,PROD:!0},x={components:{RouterView:p},methods:{logout(){document.cookie=`loginToken=; expires=${new Date}, 31 Dec 9999 23:59:59 GMT;`,alert("已成功登出"),this.$router.push("/login")},checkAdmin(){const c=document.cookie.replace(/(?:(?:^|.*;\s*)loginToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=c,this.$http.post(`${k}/v2/api/user/check`).then(e=>{e.data.success||this.$router.push("/login")}).catch(e=>{alert(e.response.data.message),this.$router.push("/login")})}},mounted(){this.checkAdmin()}},$=a("h4",{class:"text-center"},"後台頁面",-1),V={class:"d-flex justify-content-center"};function g(c,e,w,A,P,r){const s=i("router-link"),u=i("RouterView");return h(),_(f,null,[$,a("div",V,[o(s,{to:"/admin/products",class:"px-1"},{default:n(()=>[t("產品列表")]),_:1}),t(" | "),o(s,{to:"/admin/orders",class:"px-1"},{default:n(()=>[t("訂單列表")]),_:1}),t(" | "),o(s,{to:"/",class:"px-1"},{default:n(()=>[t("返回前台")]),_:1}),t(" | "),a("a",{href:"#",onClick:e[0]||(e[0]=m((...l)=>r.logout&&r.logout(...l),["prevent"])),class:"px-1"},"登出")]),o(u)],64)}const T=d(x,[["render",g]]);export{T as default};
