import{_ as h,e as p,r as m,o as a,c as n,a as t,F as P,f as g,t as b,b as f,w as V,d as $}from"./index-ca20bf0e.js";const{VITE_APP_URL:d,VITE_APP_PATH:i}={VITE_APP_URL:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"vuejslive2022",BASE_URL:"/2022-Vue-week06/",MODE:"production",DEV:!1,PROD:!0},k={data(){return{products:[],loadingItem:""}},methods:{getProdcuts(){this.$http.get(`${d}/v2/api/${i}/products`).then(e=>{this.products=e.data.products}).catch(e=>{alert(e.response.data.message)})},addToCart(e,c=1){const r={product_id:e,qty:c};this.loadingItem=e,this.$http.post(`${d}/api/${i}/cart`,{data:r}).then(o=>{alert(o.data.message),this.loadingItem=""}).catch(o=>{alert(o.data.message)})}},mounted(){this.getProdcuts()},components:{RouterLink:p}},T={class:"my-5 row justify-content-center"},E=t("h1",{class:"text-center mb-4"},"前台產品列表",-1),v={class:"table"},x=["src"],y=["onClick"];function A(e,c,r,o,l,u){const _=m("RouterLink");return a(),n("div",T,[E,t("table",v,[t("tbody",null,[(a(!0),n(P,null,g(l.products,s=>(a(),n("tr",{key:s.id},[t("td",null,b(s.title),1),t("td",null,[t("img",{src:s.imageUrl,width:"150",alt:""},null,8,x)]),t("td",null,[f(_,{to:`/product/${s.id}`,class:"btn btn-outline-primary"},{default:V(()=>[$("商品細節")]),_:2},1032,["to"]),t("button",{type:"button",class:"btn btn-outline-success",onClick:I=>u.addToCart(s.id)},"加入購物車",8,y)])]))),128))])])])}const R=h(k,[["render",A]]);export{R as default};
